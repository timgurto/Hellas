<root>

<quest id="tutCombat" name="A new creation" startsAt="prometheus" endsAt="prometheus"
    brief="Welcome to Mt. Othrys--or what's left of it.  My name is Prometheus, and I created you.
It looks like your eyes and ears are in working order, so let's test your arms and legs.  Head over to that grassy area nearby, and kill some pigs."
    debrief="Excellent, everything seems to be working as intended.  You're quite impressive, if I do say so myself!"
    helpTopicOnAccept="Basic: combat">
	<objective type="kill" id="tutPig" qty="6" />
</quest>
    <npcType
        id="prometheus" name="Prometheus"
        level="20" maxHealth="107" isCivilian="1" >
        <humanoid>
            <gear id="linenChitonOrange" />
            <gear id="sandals" />
            <gear id="fireWand" />
        </humanoid>
        <class name="titan"/>
    </npcType>
    <npcType
        id="tutPig" name="Pig"
        level="1" maxHealth="41" attack="6" attackTime="2000" isNeutral="1"
        xDrawOffset="-11" yDrawOffset="-13"
        imageFile="critter" sounds = "pig" >
        <collisionRect x="-9" y="-4" w="18" h="7" />
    </npcType>
    <spawnPoint type="tutPig" quantity="20" radius="350" respawnTime="10000" x="4566" y="60376" />
    <spawnPoint type="tutPig" quantity="5" radius="200" respawnTime="30000" x="4174" y="60220" />

<quest id="tutParts" name="Goat Accumulator" startsAt="prometheus" endsAt="prometheus"
    brief="My kin used to rule the cosmos, but cruelty and jealousy led to a war . . . a war that we lost.  Now the youngsters on Mt. Olympus rule, while the other Titans, my family, suffer imprisonment in the underworld.
    Zeus, the king of these Olympian gods, wants you humans to worship his kind with animal sacrifices.
    Before we negotiate the details, you'll need to get your hands dirty.  There's a small pass north of the pigs you just encountered, that leads to a herd of wild goats.  Slay some, and gather what you can of their remains."
    debrief="These will do nicely."
    helpTopicOnAccept="Basic: loot">
    <prerequisite id="tutCombat" />
    <objective type="fetch" id="tutMeat" qty="6" />
    <objective type="fetch" id="tutHide" />
    <objective type="fetch" id="tutEntrails" qty="6" />
    <objective type="fetch" id="tutFat" />
</quest>
    <npcType
        id="tutGoat" name="Goat"
        level="2" maxHealth="44" attack="6" attackTime="2030"
        xDrawOffset="-17" yDrawOffset="-28"
        imageFile="goat" sounds = "goat" >
        <collisionRect x="-15" y="-4" w="31" h="7" />
        <loot id="tutMeat" chance="0.3" />
        <loot id="tutHide" chance="0.2" />
        <loot id="tutEntrails" chance="0.3" />
        <loot id="tutFat" chance="0.2" />
    </npcType>
    <item id="tutMeat"     name="Meat"                           stackSize="10" exclusiveToQuest="tutParts" />
    <item id="tutHide"     name="Hide"       iconFile="hide"     stackSize="10" exclusiveToQuest="tutParts" />
    <item id="tutEntrails" name="Entrails"   iconFile="entrails" stackSize="10" exclusiveToQuest="tutParts" />
    <item id="tutFat"      name="Animal Fat" iconFile="fat"      stackSize="10" exclusiveToQuest="tutParts" />
    <spawnPoint type="tutGoat" quantity="3" radius="120" respawnTime="60000" x="4396" y="59760" />
    <spawnPoint type="tutGoat" quantity="3" radius="120" respawnTime="60000" x="4542" y="59490" />
    <spawnPoint type="tutGoat" quantity="3" radius="120" respawnTime="60000" x="4762" y="59664" />
    <spawnPoint type="tutGoat" quantity="3" radius="120" respawnTime="60000" x="4880" y="59296" />
    <spawnPoint type="tutGoat" quantity="3" radius="120" respawnTime="60000" x="5096" y="59482" />

<quest id="tutOfferings" name="An offer he can't refuse" startsAt="prometheus" endsAt="tutBrazier"
    brief="Zeus wants to decide which parts of the animal should be sacrificed, and so you'll need to make two offerings and let him choose; this gives us an opportunity to trick him.
    Don't look at me like that--we're talking about an eternity of sacrifices here, and this will make it easier for you humans!
    Follow the path up north, until you find a smoking brazier.  That is where Zeus will make his choice.
    Place this pile of meat on the tiles there, and cover it with the hide so that it looks skinny and unappealing.  Do the same with the entrails, but dress them up with fat.  Once you've prepared both sacrifices, approach the brazier--reverently--and speak with Zeus."
    debrief="Are you one of Prometheus's little creatures?  Greetings, mortal.  We gods have our due, and as their king it falls to me to make the choice.  But obviously we should have the best-quality meat for ourselves!  I choose the fatty offering."
    helpTopicOnAccept="Basic: placement">
    <prerequisite id="tutParts" />
    <objective type="construct" id="leanOffering" />
    <objective type="construct" id="fattyOffering" />
    <startsWithItem id="tutMeat2" />
    <startsWithItem id="tutEntrails2" />
    <startsWithItem id="tutHide2" />
    <startsWithItem id="tutFat2" />
</quest>
    <objectType
        id="tutBrazier" name="Brazier"
        xDrawOffset="-7" yDrawOffset="-18" >
        <collisionRect x="-6" y="-3" w="13" h="6" />
        <particles profile="smoke" x="0" y="-15" />
    </objectType>
    <item id="tutMeat2"     name="Meat"                           exclusiveToQuest="tutOfferings" constructs="leanOffering" />
    <item id="tutEntrails2" name="Entrails"   iconFile="entrails" exclusiveToQuest="tutOfferings" constructs="fattyOffering" />
    <item id="tutHide2"     name="Hide"       iconFile="hide"     exclusiveToQuest="tutOfferings" />
    <item id="tutFat2"      name="Animal Fat" iconFile="fat"      exclusiveToQuest="tutOfferings" />
    <objectType
        id="leanOffering" name="Scrawny Sacrifice"
        allowedTerrain="tutOfferings" constructionTime="10000"  isUnbuildable="true" disappearAfter="300000"
        xDrawOffset="-9" yDrawOffset="-9" >
        <collisionRect x="-9" y="-4" w="18" h="9" />
        <material id="tutHide2" />
    </objectType>
    <objectType
        id="fattyOffering" name="Fatty Sacrifice"
        allowedTerrain="tutOfferings" constructionTime="10000" isUnbuildable="true" disappearAfter="300000"
        xDrawOffset="-9" yDrawOffset="-9" >
        <collisionRect x="-9" y="-4" w="18" h="9" />
        <material id="tutFat2" />
    </objectType>

<quest id="tutReturnFromZeus" name="No more fire" startsAt="tutBrazier" endsAt="prometheus"
    brief="What the . . . disgusting!  Where is the meat?  What are we supposed to do with these revolting entrails?
    Insolence!  To imagine that you, a mere mortal, could outsmart a god!  Did you think you'd get away with this?
    What's done is done, and these are the sacrifices we must now accept.  But I can punish you in a different way.  I am banishing fire from your world; you and your kind can languish in primitive savagery for all time.
    Now get out of my sight--run along to your benefactor."
    debrief="It was inevitable that Zeus would get angry, but trust me, it was worth it." >
    <!--prerequisite id="tutOfferings" /-->
</quest>

<quest id="tutLearnFire" name="More fire" startsAt="prometheus" endsAt="prometheus"
    brief="What?  He removed fire from the world?  But it's critical to . . . that would stop you from ever . . . hmm . . .
    I know what I must do.
    Head to the woods out west, and pick up some sticks for me.  When you get back, I will restore fire to mankind."
    debrief="Good.  Zeus won't let you leave this mountain with fire, so instead I'll teach you how to make it yourself.  That way he can never take it from you again.
    I don't care about Zeus's wrath--this is too important.  Fire is critical to the development of civilisation and mankind must have access to it." >
    <prerequisite id="tutReturnFromZeus" />
    <objective type="fetch" id="tutStick" qty="8" />
    <reward type="construction" id="tutFire" />
</quest>
    <objectType id="tutFire" name="Cooking Fire">
        <tag name="cooking" />
        <material id="tutStick" quantity="5" />
        <material id="log" />
        <unlockedBy gather="rock" />
        <strength item="stick" quantity="5" />
        <transform id="tutExtinguishedFire" time="20000" />
    </objectType>
    <objectType id="tutExtinguishedFire" name="Extinguished Cooking Fire"
        isUnbuildable="1"
        constructionText="requires fuel">
        <material id="tutStick" />
        <strength item="stick" quantity="5" />
        <transform id="tutFire" time="1" skipConstruction="1" />
    </objectType>
    <item id="tutStick" name="Stick" iconFile="stick" stackSize="10" sounds="stick" />
    <objectType id="tutStick" name="Stick"
        xDrawOffset="-10" yDrawOffset="-4"
        canGather="1" gatherTime="1000"
        sounds="stick" imageFile="stick"
        allowedTerrain="tutSticks" >
        <yield id="tutStick" />
        <strength item="stick" quantity="1" />
    </objectType>
    <spawnPoint type="tutStick" quantity="20" radius="450" respawnTime="60000" x="3112" y="59956" />
</root>
