<root>

<item id="linenChitonOrange" gearSlot="2" ><offset x="-6" y="-3" /></item>

<item id="flintstones" gearSlot="2" ><offset x="-5" y="-4" /> </item>

<item id="crown" gearSlot="0" ><offset x="-3" y="-5" /> </item>
<item id="royalChiton" gearSlot="2" ><offset x="-6" y="-3" /> </item>
<item id="purpleCloak" gearSlot="3" ><offset x="-4" y="-1" /> </item>
<item id="flaxGear" gearSlot="7" ><offset x="-10" y="-4" /> </item>


<quest id="directionsToClay" name="A toy for the children" startsAt="grug" endsAt="grug"
    brief="Grug have only bones and rocks to keep family happy.  Want make toy for Grugling, but need clay.
    Shaman say there lots of clay past rivers, southwest, where land green and water big.  Grug also see red patches in riverbed.
    You bring Grug clay?"
    debrief="Toy will make Grugling happy.  Being father better than fighting; me no need club now.  You take!" >
    <objective type="fetch" id="crudeClay" qty="1" />
    <reward type="item" id="boneClub" />
</quest>
    <npcType
        id="grug" name="Grug"
        level="5" maxHealth="30" isCivilian="1" >
        <humanoid base="athlete">
            <gear id="flintstones" />
            <gear id="boneClub" />
        </humanoid>
    </npcType>
    <npc id="grug" x="35503" y="22322" />

<quest id="calydonianBoarPre" name="Honouring the Harvest" startsAt="flaxCrop0" endsAt="calydonBrazier"
    brief="You have sown the fields, and contemplate life as a farmer--most of all, the importance of honouring the gods once you have reaped a harvest.
    The Calydonians, devout textile traders, have a regular ceremony to show appreciation for their crops.  That would be a good place bring some of your produce to burn in offering.
    The city of Calydon is located in the fertile river region of the south west, near the coast."
    debrief="You burn the offering of Flax in the brazier, confident that you have satisfied the gods." >
    <objective type="fetch" id="flax" qty="1" />
</quest>
    <objectType id="calydonBrazier" name="Harvest Brazier" imageFile="brazier"
        xDrawOffset="-7" yDrawOffset="-18" >
        <collisionRect x="-6" y="-3" w="13" h="6" />
        <particles profile="smoke" x="0" y="-15" />
    </objectType>
    <npcType
        id="kingOineus" name="King Oineus"
        level="5" maxHealth="30" isCivilian="1" >
        <humanoid base="noble">
            <gear id="crown" />
            <gear id="royalChiton" />
            <gear id="purpleCloak" />
            <gear id="sandals" />
        </humanoid>
    </npcType>
    <npcType
        id="calydonWeaver" name="Calydon Weaver"
        level="5" maxHealth="30" isCivilian="1" >
        <humanoid base="athlete">
            <gear id="sandals" />
            <gear id="flaxGear" />
            <gear id="tinKnife" />
        </humanoid>
    </npcType>
    <objectType
        id="tradeMatBottomless" name="Trade Mat" imageFile="tradeMat"
        xDrawOffset="-14" yDrawOffset="-12" merchantSlots="1" bottomlessMerchant="1" >
        <collisionRect x="-12" y="-8" w="25" h="17" />
        <durability item="hide" quantity="1" />
    </objectType>
    <spawnPoint y="43695" x="29623" type="calydonWeaver" quantity="8" radius="300" respawnTime="300000" />
    <npc id="kingOineus" x="29533" y="43524" />
    <object id="rockRoad" x="29620" y="43454"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43486"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43518"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43550"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43582"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43614"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43646"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43678"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43710"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43742"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43774"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43806"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43838"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43870"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43902"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43934"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43966"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="43998"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="44030"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="44073"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29620" y="44145"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29588" y="43690"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29556" y="43690"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29524" y="43690"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29652" y="43829"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29492" y="43690"> <owner type="noAccess" /> </object>
    <object id="rockRoad" x="29460" y="43690"> <owner type="noAccess" /> </object>
    <object id="palisadeEW" x="29701" y="43506"> <owner type="noAccess" /> </object>
    <object id="palisadeEW" x="29701" y="43950"> <owner type="noAccess" /> </object>
    <object id="palisadeEW" x="29437" y="43505"> <owner type="noAccess" /> </object>
    <object id="palisadeEW" x="29529" y="43505"> <owner type="noAccess" /> </object>
    <object id="palisadeNS" x="29742" y="43579"> <owner type="noAccess" /> </object>
    <object id="palisadeNS" x="29742" y="43652"> <owner type="noAccess" /> </object>
    <object id="palisadeNS" x="29742" y="43725"> <owner type="noAccess" /> </object>
    <object id="palisadeNS" x="29742" y="43798"> <owner type="noAccess" /> </object>
    <object id="palisadeNS" x="29742" y="43871"> <owner type="noAccess" /> </object>
    <object id="palisadeNS" x="29742" y="43944"> <owner type="noAccess" /> </object>
    <object id="flaxCrop8" x="29576" y="43954"> <owner type="noAccess" /> </object>
    <object id="flaxCrop8" x="29537" y="43954"> <owner type="noAccess" /> </object>
    <object id="flaxCrop8" x="29537" y="43995"> <owner type="noAccess" /> </object>
    <object id="flaxCrop0" x="29576" y="43995"> <owner type="noAccess" /> <material id="water" qty="1" /> </object>
    <object id="flaxCrop0" x="29666" y="44013"> <owner type="noAccess" /> <material id="water" qty="1" /> </object>
    <object id="flaxCrop0" x="29705" y="44012"> <owner type="noAccess" /> <material id="water" qty="1" /> </object>
    <object id="flaxCrop0" x="29705" y="44053"> <owner type="noAccess" /> <material id="water" qty="1" /> </object>
    <object id="flaxCrop0" x="29666" y="44054"> <owner type="noAccess" /> <material id="water" qty="1" /> </object>
    <object id="cityAltar" x="29702" y="43832"> <owner type="noAccess" /> </object>
    <object id="loom" x="29455" y="43647"> <owner type="noAccess" /> </object>
    <object id="loom" x="29504" y="43733"> <owner type="noAccess" /> </object>
    <object id="loom" x="29415" y="43693"> <owner type="noAccess" /> </object>
    <object id="smallPot" x="29400" y="43653"> <owner type="noAccess" /> </object>
    <object id="smallPot" x="29405" y="43644"> <owner type="noAccess" /> </object>
    <object id="smallPot" x="29418" y="43660"> <owner type="noAccess" /> </object>
    <object id="smallPot" x="29542" y="43722"> <owner type="noAccess" /> </object>
    <object id="smallPot" x="29555" y="43739"> <owner type="noAccess" /> </object>
    <object id="smallPot" x="29729" y="43576"> <owner type="noAccess" /> </object>
    <object id="smallPot" x="29721" y="43565"> <owner type="noAccess" /> </object>
    <object id="tradeMatBottomless" x="29655" y="43578" >
        <owner type="player" name="Calydon" />
        <merchant slot="0" wareItem="fig" priceItem="flaxSeeds" />
    </object>
    <object id="tradeMatBottomless" x="29683" y="43630" >
        <owner type="player" name="Calydon" />
        <merchant slot="0" wareItem="flax" priceItem="flaxSeeds" priceQty="5" />
    </object>
    <object id="tradeMatBottomless" x="29567" y="43609" >
        <owner type="player" name="Calydon" />
        <merchant slot="0" wareItem="linenCloak" priceItem="tinCoin" priceQty="600" />
    </object>
    <object id="figTree8" x="29419" y="43817"> <owner type="noAccess" /> </object>
    <object id="figTree8" x="29475" y="43863"> <owner type="noAccess" /> </object>
    <object id="figTree8" x="29485" y="43828"> <owner type="noAccess" /> </object>
    <object id="handCart" x="29564" y="44036"> <owner type="noAccess" /> </object>
    <object id="handCart" x="29546" y="44070"> <owner type="noAccess" /> </object>
    <object id="calydonBrazier" x="29458" y="43575" />
    <object id="flaxCrop8" x="29689" y="44151"> <owner type="noAccess" /> </object>
    <object id="flaxCrop8" x="29738" y="44249"> <owner type="noAccess" /> </object>
    <object id="flaxCrop8" x="29633" y="44346"> <owner type="noAccess" /> </object>
    <object id="flaxCrop8" x="29526" y="44298"> <owner type="noAccess" /> </object>
    <object id="flaxCrop8" x="29377" y="44469"> <owner type="noAccess" /> </object>
    <object id="flaxCrop8" x="29508" y="44553"> <owner type="noAccess" /> </object>
    <object id="skeleton" x="29548" y="44385" />
    <object id="skeleton" x="29660" y="44280" />
    <object id="skeleton" x="29556" y="44549" />
    <object id="skeleton" x="29682" y="44520" />
    <object id="skeleton" x="29782" y="44484" />
    <object id="skeleton" x="29794" y="44573" />
    <object id="skeleton" x="29818" y="44551" />
    <object id="skeleton" x="29934" y="44558" />
    <object id="skeleton" x="30024" y="44520" />
    <object id="skeleton" x="29957" y="44487" />
<quest id="calydonianBoar" name="The Calydonian Boar" startsAt="kingOineus" endsAt="kingOineus"
    brief="Welcome to our humble city!  Like you, we grow and weave flax, but recently we have fallen victim to the gods' wrath.
    Each harvest we make offerings to the gods, as you have done.  Regrettably, our merriment during the last harvest distracted us, and we neglected to thank Artemis, goddess of the hunt.
    Since then, the scorned goddess has terrorised our southern farmlands with a monstrous boar.
    I beg you, traveler: hunt the beast down and kill it.  If you manage this feat we will handsomely reward you!"
    debrief="You saved our city, and have our thanks!  Please choose a trophy from the beast." >
    <prerequisite id="calydonianBoarPre" />
    <objective type="kill" id="calydonianBoar" qty="1" />
    <reward type="item" id="calydonianHide" />
</quest>
    <objectType id="skeleton" isDecoration="1" xDrawOffset="-20" yDrawOffset="-8" />
    <npcType
        id="calydonianBoar" name="Calydonian Boar" template="boar"
        level="15" maxHealth="277" attack="84" attackTime="2995" elite="1"
        xDrawOffset="-11" yDrawOffset="-13" >
        <loot id="hide" chance="0.3" />
        <loot id="meat" chance="0.3" />
        <loot id="fat" chance="0.05" />
        <loot id="entrails" chance="0.1" />
        <loot id="knucklebones" chance="0.02" />
        <loot id="bone" > <normal mean="0.8" sd="0.5" /> </loot>
        <loot id="calydonianHorn" chance="0.2" />
    </npcType>
    <item id="calydonianHorn" name="Horn of the Calydonian Boar" gearSlot="7" lvlReq="15"
        iconFile="hornBlack" gearFile="hornBlack" quality="2" >
		<stats eps="2" hps="1" />
		<offset x="0" y="-3" />
    </item>
    <item id="calydonianHide" name="Hide of the Calydonian Boar" gearSlot="3" sounds="leather"
        iconFile="hideBlack" gearFile="hideBlack" lvlReq="12" quality="2" >
        <stats critResist="2" />
        <offset x="-4" y="-1" />
    </item>

    
<object id="decoFire" x="35066" y="22520" />
<npc id="athleteQG" x="35060" y="22501" />
<npc id="scholarQG" x="35090" y="22532" />
<npc id="zealotQG" x="35040" y="22545" />

<quest id="learnAthleteBuilding1" name="Kron's Kill" startsAt="athleteQG" endsAt="athleteQG" timeLimit="35" exclusiveToClass="Athlete"
    brief="You look fast; you help Kron?
    Kron hunt big goat today for tribe, but too much meat to carry.  Meat rotting; soon no good to eat.  You get rest of meat?
    Kron remember hunting west, near river.  Go fast, before meat rot!"
    debrief="You bring meat!  Now whole tribe can eat big." >
    <objective type="fetch" id="kronMeat" />
</quest>
    <npcType
        id="athleteQG" name="Hunter Kron"
        level="6" maxHealth="38" isCivilian="1" >
        <humanoid base="athlete">
            <gear id="bow" />
            <gear id="horn" />
        </humanoid>
    </npcType>
    <item id="kronMeat" name="Goat Meat" iconFile="meat" exclusiveToQuest="learnAthleteBuilding1" />
    <objectType id="kronsKill" name="Kron's Kill"
        xDrawOffset="-19" yDrawOffset="-9" isFlat="1"
        canGather="1" gatherTime="1000" exclusiveToQuest="learnAthleteBuilding1" >
        <yield id="kronMeat" />
    </objectType>
<quest id="learnAthleteBuilding2" name="Tortoise Trouble" startsAt="athleteQG" endsAt="athleteQG" exclusiveToClass="Athlete"
    brief="Maybe you help Kron with another problem.  A monster threatens tribe!  Big creature with lots of meat, but wears hard armour.
    We can't break him; maybe you can.  We call him Heirax.  He on the coast, southeast."
    debrief="You save tribe!  Thank you.
    You very fast, and strong.  Kron have idea to make men even more fast and strong--we need place to practice and learn.  Kron tell you idea and you build, yes?" >
    <prerequisite id="learnAthleteBuilding1" />
    <objective type="kill" id="athleteQuestTortoise" />
    <reward type="construction" id="athleteBuilding" />
</quest>
    <npcType
        id="athleteQuestTortoise" name="Heirax"
        level="10" maxHealth="47" attack="13" attackTime="3700"
        xDrawOffset="-18" yDrawOffset="-20"
        imageFile="tortoiseBlue" sounds="tortoise" isNeutral="1" >
        <spell id="tutShield" />
        <collisionRect x="-15" y="-5" w="31" h="10" />
        <loot id="meat" chance="0.3" />
        <loot id="bone" > <normal mean="0.8" sd="0.5" /> </loot>
        <loot id="knucklebones" chance="0.02" />
        <loot id="entrails" chance="0.1" />
        <loot id="fat" chance="0.05" />
    </npcType>

<quest id="learnScholarBuilding1" name="A Shortcut to Mushrooms" startsAt="scholarQG" endsAt="scholarQG" exclusiveToClass="Scholar"
    brief="Mushrooms can be good to eat, and Briv want to help tribe eat well.
    Briv see big mushroom patch nearby, northwest; lots of different mushrooms.  Go pick some, bring back, then we test them."
    debrief="Wow, many different mushrooms!  You have good eye for foraging." >
    <objective type="fetch" id="redMushroomGather" />
    <objective type="fetch" id="brownMushroomGather" />
    <objective type="fetch" id="whiteMushroomGather" />
</quest>
    <npcType
        id="scholarQG" name="Gatherer Briv"
        level="6" maxHealth="38" isCivilian="1" >
        <humanoid base="scholar">
            <gear id="stoneKnife" />
            <gear id="knucklebones" />
        </humanoid>
    </npcType>
    <item id="redMushroomGather"   name="Red Mushroom"   iconFile="mushroomRed"   exclusiveToQuest="learnScholarBuilding1" />
    <item id="brownMushroomGather" name="Brown Mushroom" iconFile="mushroomBrown" exclusiveToQuest="learnScholarBuilding1" />
    <item id="whiteMushroomGather" name="White Mushroom" iconFile="mushroomWhite" exclusiveToQuest="learnScholarBuilding1" />
    <objectType id="redMushroom" name="Red Mushroom"
        xDrawOffset="-4" yDrawOffset="-7"
        canGather="1" gatherTime="1000" exclusiveToQuest="learnScholarBuilding1" >
        <yield id="redMushroomGather" />
    </objectType>
    <objectType id="brownMushroom" name="Brown Mushroom"
        xDrawOffset="-4" yDrawOffset="-7"
        canGather="1" gatherTime="1000" exclusiveToQuest="learnScholarBuilding1" >
        <yield id="brownMushroomGather" />
    </objectType>
    <objectType id="whiteMushroom" name="White Mushroom"
        xDrawOffset="-4" yDrawOffset="-7"
        canGather="1" gatherTime="1000" exclusiveToQuest="learnScholarBuilding1" >
        <yield id="whiteMushroomGather" />
    </objectType>
<quest id="learnScholarBuilding2" name="Poison; Poison; tasty mushroom" startsAt="scholarQG" endsAt="scholarQG" exclusiveToClass="Scholar"
    brief="Three different mushrooms.  Might be bad, might be good.  Before feeding to tribe, need to test them.
    You put your body on line for greater good?  Good way to learn more about world!"
    debrief="You real hero!  Now we know that brown mushrooms good to eat, and others not.
    You sharp-eyed and willing to learn.  Briv have idea, for place you can learn more and teach others.  Briv tell you idea and you build?" >
    <prerequisite id="learnScholarBuilding1" />
    <startsWithItem id="redMushroomEat" />
    <startsWithItem id="brownMushroomEat" />
    <startsWithItem id="whiteMushroomEat" />
    <objective type="cast" id="eatRedMushroom" />
    <objective type="cast" id="eatBrownMushroom" />
    <objective type="cast" id="eatWhiteMushroom" />
    <reward type="construction" id="scholarBuilding" />
</quest>
    <item id="redMushroomEat"   name="Red Mushroom"   iconFile="mushroomRed"   castsSpellOnUse="eatRedMushroom" exclusiveToQuest="learnScholarBuilding2" />
    <item id="brownMushroomEat" name="Brown Mushroom" iconFile="mushroomBrown" castsSpellOnUse="eatBrownMushroom" exclusiveToQuest="learnScholarBuilding2" />
    <item id="whiteMushroomEat" name="White Mushroom" iconFile="mushroomWhite" castsSpellOnUse="eatWhiteMushroom" exclusiveToQuest="learnScholarBuilding2" />
    <spell id="eatRedMushroom" name="Eat red mushroom" customDescription="Eat mushroom" >
        <targets self="1" />
        <function name="buff" s1="mushroomPoison" />
    </spell>
    <buff id="mushroomPoison" name="Poisoned" icon="dripGreen" duration="11" school="earth"
        description="Taking damage over time.">
        <function name="doDirectDamage" i1="5" tickTime="1000" />
    </buff>
    <spell id="eatBrownMushroom" name="Eat brown mushroom" customDescription="Eat mushroom" >
        <targets self="1" />
        <function name="buff" s1="food" />
    </spell>
    <spell id="eatWhiteMushroom" name="Eat white mushroom" customDescription="Eat mushroom">
        <targets self="1" />
        <function name="buff" s1="mushroomDebuff" />
    </spell>
    <buff id="mushroomDebuff" name="Ill" icon="skullBlue" duration="30" school="earth"
        description="Reduced health and energy.">
        <stats health="-49" energy="-49" />
    </buff>

<quest id="learnZealotBuilding" name="Divination" startsAt="zealotQG" endsAt="zealotQG" exclusiveToClass="Zealot"
    brief="Zaar the shaman of tribe, but not heard gods' wishes for many days.
    Watching birds, reading entrails, nothing works.  Last resort is throwing knucklebones from animal paws; they land in special ways.
    You bring knucklebones?  Lots of work, but hearing gods very important!"
    debrief="Zaar throw the bones and get answer!
    Gods teach Zaar to get visions from them.  You work hard helping Zaar, show devotion to gods, so Zaar teach you.
    Find deep chasm, breathe vapours.  Then gods speak to you.  Hear gods, be better shaman.  Share chasm with others.  Serve gods." >
    <objective type="fetch" id="knucklebones" />
    <reward type="construction" id="zealotBuilding" />
</quest>
    <npcType
        id="zealotQG" name="Shaman Zaar"
        level="6" maxHealth="38" isCivilian="1" >
        <humanoid base="zealot">
            <gear id="hide" />
            <gear id="fireWand" />
        </humanoid>
    </npcType>

    
</root>
